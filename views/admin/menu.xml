<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- Main Menu -->
    <menuitem id="menu_marketplace_root" 
              name="Marketplace Platform" 
              sequence="10" 
              web_icon="website_sale,static/description/icon.png"/>

    <!-- Vendors Menu -->
    <menuitem id="menu_marketplace_vendors" 
              name="Vendors" 
              parent="menu_marketplace_root" 
              sequence="10"/>
    
    <menuitem id="menu_vendor_list" 
              name="All Vendors" 
              parent="menu_marketplace_vendors" 
              action="action_vendor" 
              sequence="10"/>

    <menuitem id="menu_vendor_products" 
              name="Vendor Products" 
              parent="menu_marketplace_vendors" 
              action="action_vendor_products" 
              sequence="20"/>

    <menuitem id="menu_pending_products" 
              name="Pending Approval" 
              parent="menu_marketplace_vendors" 
              action="action_pending_products" 
              sequence="25"
              groups="marketplace_platform.group_marketplace_manager"/>

    <!-- Finance Menu -->
    <menuitem id="menu_marketplace_finance" 
              name="Finance" 
              parent="menu_marketplace_root" 
              sequence="20"/>
    
    <menuitem id="menu_commission_list" 
              name="Commissions" 
              parent="menu_marketplace_finance" 
              action="action_commission" 
              sequence="10"/>

    <menuitem id="menu_payout_list" 
              name="Payouts" 
              parent="menu_marketplace_finance" 
              action="action_payout" 
              sequence="20"/>
			  
	<!-- DÉFINITION D'UNE ACTION PROPRE (Indépendante du contexte active_id) -->
    <record id="action_marketplace_all_applicants" model="ir.actions.act_window">
        <field name="name">Toutes les Candidatures</field>
        <field name="res_model">hr.applicant</field>
        <field name="view_mode">kanban,list,form,pivot,graph</field>
        <!-- On force un contexte vide ou simple pour éviter l'erreur active_id -->
        <field name="context">{}</field> 
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Aucune candidature reçue pour le moment.
            </p>
            <p>
                Les candidats qui postulent via le formulaire web apparaîtront ici.
            </p>
        </field>
    </record>

    <!-- MENU PARENT -->
    <menuitem id="menu_marketplace_hr" 
              name="Carrières &amp; RH" 
              parent="menu_marketplace_root" 
              sequence="30"/>

    <!-- LIENS MENUS -->
    
    <!-- Lien vers notre ACTION CORRIGÉE -->
    <menuitem id="menu_hr_applicants" 
              name="Candidatures Reçues" 
              parent="menu_marketplace_hr" 
              action="action_marketplace_all_applicants"
              sequence="10"/>

    <!-- Lien vers les Postes (Celui-ci fonctionne généralement sans modif) -->
    <menuitem id="menu_hr_jobs" 
              name="Postes Ouverts" 
              parent="menu_marketplace_hr" 
              action="hr_recruitment.action_hr_job"
              sequence="20"/>

	<!-- SECTION CONTENU (CMS) -->
    <menuitem id="menu_marketplace_cms" 
              name="Contenu &amp; Blog" 
              parent="menu_marketplace_root" 
              sequence="40"/>

    <!-- Lien vers les Articles de Blog -->
    <menuitem id="menu_blog_posts" 
              name="Articles de Blog" 
              parent="menu_marketplace_cms" 
              action="website_blog.action_blog_post"
              sequence="10"/>
              
    <!-- Lien vers les Catégories de Blog -->
    <menuitem id="menu_blog_config" 
              name="Blogs (Catégories)" 
              parent="menu_marketplace_cms" 
              action="website_blog.action_blog_blog"
              sequence="20"/>
</odoo>
